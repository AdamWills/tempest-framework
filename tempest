#!/usr/bin/env php
<?php

use Tempest\AppConfig;
use Tempest\Application\Environment;
use Tempest\Tempest;
use function Tempest\env;

require_once getcwd() . '/vendor/autoload.php';

$createAppConfig = fn () => new AppConfig(
    environment: Environment::from(env('ENVIRONMENT')),
    discoveryCache: env('DISCOVERY_CACHE'),
);

Tempest::boot(getcwd(), $createAppConfig)->console()->run();

exit;